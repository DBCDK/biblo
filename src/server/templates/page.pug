//- page.jade

extends layout

block append styles
  if css && css.length
    each val in css
      link(rel='stylesheet', href=val)

block append footerscripts
  if js && js.length
    each val in js
      script(src=val defer=true)

  if data && data.length
      each val in data
        script window['!{val.propertyName}'] = '!{val.data}';

  if jsonData && jsonData.length
      each val in jsonData
        script(id='JSONDATA', type='application/json') !{val}

  if state
      script(id='initialState', type='application/json') !{state}

  if profile
      script(id='JSONDATA_USER_PROFILE', type='application/json') !{profile}

  if globalContent
      script(id='globalContent', type='application/json') !{globalContent}

  if profileImage
      script(id='JSONDATA_USER_PROFILE_IMAGE', type='application/json') !{profileImage}

  if openPlatformToken
      script(id='OPENPLATFORM_TOKEN', type='application/json') !{openPlatformToken}

  if quizLibraryUrl
      script(id='QUIZ_LIBRARY_URL', type='application/json') !{quizLibraryUrl}

  if openingHours
      script(id='OPENING_HOURS', type='application/json') !{openingHours}

  if includeDDBMarker
    include ddbmarker

block prepend body
    #content!= content
